<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://bootswatch.com/4/flatly/bootstrap.min.css" >
    <link rel="stylesheet" href="./css/site.css">

    <title>Billboard Hot 100</title>

    <script src="https://cdn.jsdelivr.net/npm/vega@4.3.0/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc8/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.20.0/build/vega-embed.js"></script>
    <style media="screen">
            /* Add space between Vega-Embed links  */
            .vega-actions a {
              margin-right: 5px;
            }
          </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="./">Mechanics of Music</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    </nav>
    <div class="jumbotron">
        <div class="container push-down-md">
            <div class="row">
                <div class="col-md-5">
                    <h1 class="push-down-lg"><b>Big data, big deal.</b></h1>
                    <h3 class="push-down-md">How artists and record labels can leverage data to produce their next hit track.</h3>
                </div>
                <div class="col-md-6 offset-md-1">
                  <img class="card-img-top" src="./assets/images/bdm.png" alt="Card image cap">
              </div>
            </div>
            
          </div>
        </div>



      <div class="container">

            <div class="row push-down-lg">
              <div class="col-md-10 offset-md-1">
                  <h4>One of the initials hopes that digital music brought was for a more accurate way for everyone in the food chain to not only get paid, but get paid faster. Though many will argue if that has actually been the case, we all can agree that the music industry is constantly changing. </h4>
              </div>
            </div>

            <div class="row push-down-md">
                <div class="col-md-7 offset-md-1">
                    <h4>Disregarding the recent spike in vinyl adoption, the way we consume songs has rapidly evolved, with portable devices replacing compact discs and AI informed playlists replacing your significant other’s homemade mix tapes. We won’t tell them that the AI is doing a better job at it. </h4>
                </div>
                <div class="col-md-3">
                    <img class="card-img-top" src="./assets/images/timeline2.gif" alt="Music Mediums">
                </div>
            </div>

            <div class="row push-down-md">
              <div class="col-md-10 offset-md-1">
                  <h4>Independently, something else that’s also revolutionizing the way we handle <b>all</b> business is the incorporation of big data. When you can combine it with the music industry, big data is kind of a big deal for music. From an artist’s perspective over the past decade, to who and how one markets and releases music, has significantly evolved in lock step with the industry. </h4>
              </div>
            </div>
    
            <div class="row push-down-md">
              <div class="col-md-10 offset-md-1">
                  <h4>From a logistical or sales perspective, sure, big data can offer a wealth of statistical information for an artist or record label. However, when you have the capabilities to characterize songs and pair it with how well a song tracks with the general public or even better, a particular population, the ability to see trends in musical composition and listeners tastes expands rapidly.</h4>
              </div>
            </div>

            <div class="row push-down-md">
                <div class="col-md-2  offset-md-1">
                    <img class="card-img-top" src="./assets/images/bh100.png" alt="Billboard Top 100">
                </div>
                <div class="col-md-8">
                    <h4>Luckily for us, we were able to get our hands on some data that has those exact characteristics. The folks at Spotify <small>(shhhh, the ones who replaced those homemade mix tapes) </small> have already been thinking about this stuff a little bit. The data we were able to leverage for our research characterizes all the songs that made it onto the Billboard Top 100 from 2000 through 2018. </h4>
                </div>
            </div>

            <div class="row push-down-md">
              <div class="col-md-10 offset-md-1">
                  <h4>However, instead of using this data to match existing songs with listeners like Spotify, we wanted to flip it over for the music industry. The intent was to think through how data could help the idustry make better informed decisions around music production and artist growth. Now, it is possible some might consider this selling out. However, if music is your livelihood, and you have the information to help influence how you create your next hit song or what you should be looking for in the next band you sign to your label, what would you do with it? </h4>
              </div>
            </div>

            <div class="row push-down-md">
                <div class="col-md-10 offset-md-1">
                    <h4>Now, it is possible some might consider this selling out. However, if music is your livelihood, and you have the information to help influence how you create your next hit song or what you should be looking for in the next band you sign to your label, what would you do with it? </h4>
                </div>
              </div>
  
        </div>

        <div class="container">
          <div class="row push-down-lg offset-md-1">
              <h2>Breaking down genre</h2>
          </div>
        </div>




        <div class="container push-down-lg">
            <div id="vis"></div>
            <div id="vis3"></div>
            <div id="vis4"></div>
            <div id="vis5"></div>
        </div>







        <script>


                var genres = ['rap', 'country', 'rock', 'pop']

                // Assign the specification to a local variable vlSpec.
                /*var vlSpec = {
                  "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
                  "data": { "url": "./datasets/billboard_2000_2018_spotify.csv"             },
                  "mark": "bar",
                  "encoding": {
                    "y": {"field": "a", "type": "nominal"},
                    "x": {
                      "aggregate": "average", "field": "b", "type": "quantitative",
                      "axis": {
                        "title": "Average of b"
                      }
                    }
                  }
                };
                */    
                
                // Assign the specification to a local variable vlSpec.
                var vlSpec = {
                    "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
                    "data": { "url": "./datasets/billboard_2000_2018_spotify.csv" },
                    "width" : 500, "height" : 300,
                    "mark": "area",
                    "transform": [{"filter": { "field": "broad_genre", "oneOf" : ["rap","country", "unknown", "r&b", "rock", "edm"] }}],
                    "encoding": 
                    {
                        "x": {
                            "timeUnit": "yearmonth", "field": "year", "type": "temporal"
                            },
                          "y": {
                            "field" : "weeks",
                            "aggregate": "sum",
                            "type": "quantitative"
                          },
                          "color": {
                            "field": "broad_genre",
                            "type": "nominal",
                            "scale": {"scheme": "category20b"}
                          }                    
                    }
                  };
  


                // Assign the specification to a local variable vlSpec.
                var vlSpec2 = {
                    "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
                    "data": { "url": "./datasets/billboard_2000_2018_spotify.csv" },
                    "width" : 500, "height" : 300,
                    "mark": "point",
                    "encoding": 
                    {
                        "x": {
                            "timeUnit": "yearmonth", "field": "year", "type": "temporal"
                            },
                          "y": {
                            "field" : "title",
                            "aggregate": "count",
                            "type": "nominal"
                          }                 
                    }
                  };



                                  // Assign the specification to a local variable vlSpec.
                var vlSpec3 = {
                    "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
                    "data": { "url": "./datasets/billboard_2000_2018_spotify.csv" },
                    "selection": {
                        "genre": {
                          "type": "single",
                          "fields": ["broad_genre"],
                          "bind": {"input": "select", "name": "Genre", "options": genres}
                        }
                    },
                    "transform": [{"filter": { "selection": "genre"}}],
                    "width" : 300, "height" : 200,
                    "mark": "line",
                    "encoding": 
                    {
                        "x": {
                            "timeUnit": "year", "field": "year", "type": "temporal"
                            },
                          "y": {
                            "field" : "weeks",
                            "aggregate": "sum",
                            "type": "quantitative"
                          },
                          "color": {
                            "field": "broad_genre",
                            "type": "nominal",
                            "scale": {"scheme": "category20b"}
                          }                    
                    
                    }
                  };


var vlSpec4 =     {

        "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
        "data": { "url": "./datasets/billboard_2000_2018_spotify.csv" },
        "transform": [{"filter": { "selection": "genre"}}],
        "hconcat": [{
        "mark": "circle",
        "selection": {
            "genre": {
              "type": "single",
              "fields": ["broad_genre"],
              "bind": {"input": "select", "name": "Genre", "options": genres}
            }
        },
        "encoding": {
          "y": {
            "field": "year",
            "type": "ordinal",
            "timeUnit": "year"
          },
          "x": {
            "bin": {"step" : 1.75},
            "field": "loudness",
            "type": "quantitative"
          },
          "size": {
            "field": "weeks",
            "type": "quantitative",
            "aggregate": "sum"
          }
        }
      },
      {
        "mark": "circle",
        "encoding": {
          "y": {
            "field": "year",
            "type": "ordinal",
            "timeUnit": "year"
          },
          "x": {
            "bin": {"step" : 0.05},
            "field": "liveness",
            "type": "quantitative"
          },
          "size": {
            "field": "weeks",
            "type": "quantitative",
            "aggregate": "sum"
          }
        }
      }]
    }


var vlSpec5 = 
    {
      "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
      "data": { "url": "./datasets/billboard_2000_2018_spotify.csv" },
      "width": 600,
      "height": 400,
      "mark": {
        "type": "circle",
        "opacity": 0.8,
        "stroke": "black",
        "strokeWidth": 1
      },
      "encoding": {
        "x": {
          "timeUnit": "year", "field": "year", "type": "temporal"
        },
        "y": {"field": "broad_genre", "type": "nominal", "axis": {"title": ""}},
        "size": {
          "field": "genre",
          "type": "nominal",
          "aggregate": "distinct",
          "legend": {"title": "Annual Global Deaths", "clipHeight": 50},
          "scale": {"range": [0, 500]}
        },
        "color": {"field": "Entity", "type": "nominal", "legend": null}
      }
    }




                // Embed the visualization in the container with id `vis`
                vegaEmbed("#vis", vlSpec);
                vegaEmbed("#vis2", vlSpec2);
                vegaEmbed("#vis3", vlSpec3);
                vegaEmbed("#vis4", vlSpec4);
                vegaEmbed("#vis5", vlSpec5);
                </script>    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
